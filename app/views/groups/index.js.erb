$('.loader').hide();
<% if params[:page].present? %>
  $('#groups').append('<%= j render partial: 'all_groups', locals: { groups: @groups } %>');
<% else %>
  $('#groups').html('<%= j render partial: 'all_groups', locals: { groups: @groups } %>');
<% end %>
$('#page').val('<%= @next_page %>')
$('#load-more').show();
currentPage = '<%= @groups.current_page %>';
totalPages  = '<%= @groups.total_pages %>';
if (currentPage == totalPages) {
  $('#load-more').hide();
}
