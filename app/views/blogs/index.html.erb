<style>
/* .video-wrapper {
	position: relative;
	padding-bottom: 56.25%;
	padding-top: 25px;
	height: 0;
}
.video-wrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
} */
.slick-arrow {
    color: red;
    border-radius: 100px;
    background-color: #cccccc;
}
.m_slider_vid {
    padding: 10px;
}
.slider_video {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: transparent !important;
    -webkit-transition: .4s;
    transition: .4s;
}
</style>

<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/jquery.slick/1.4.1/slick-theme.css"/>

<link rel="stylesheet" type="text/css" href="http://vjs.zencdn.net/4.9.0/video-js.css"/>


<div class="<%= add_container %>">
  <div class="<%= blog_screen_size %>">

    <div class="banner text-center">
      <%= image_tag @page.blog_banner.variant(combine_options: { resize: banner_size, gravity: 'Center', extent: banner_size, background: "grey", quality: 95 }), width: '100%' %>
    </div>

    <div class="row">
      <div class="col-md-12 blog_banner_btn class-z">
        <% if current_user&.is_admin? || current_user&.has_permission?('scrap_blogs', 'scrap_blogs') %>
        <%= link_to t('blogs.index.blog_libray_label'), scrap_blogs_path, class: 'btn blog_library btn-primary' %>
        <% end %>

        <% if current_user&.is_admin? %>
        <%= link_to t('blogs.index.edit_banner_label'), "javascript:void(0);", class: 'btn edit_banner_btn btn-primary', id: 'uploaderBanner' %>
        <% end %>
      </div>
    </div>

    <div class="col-md-12 blog_banner_btn">
      <div class="col-lg-12 padding-lr-20">
        <%= text_field_tag :title, params[:title], class: "form-control set-border-radius", placeholder: 'Search by title', id: 'blog-title-textbox' %>
      </div><!-- /input-group -->
    </div>
    <br>
    <br>
   
   <section id="features" class="blue">
			<div class="content">
				
				
				
				
				<div class="slider slider_video responsive_video_slider">
					
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>

						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
						<div class="m_slider_vid">
						<iframe width="100%" src="//www.youtube.com/embed/ubGpDoyJvmI" frameborder="0" allowfullscreen></iframe>
					</div>
				</div>
			</div>
		</section>
   
   
   
    <div class="row">
      <div class="post-heading blog-redesign-style">
        <div class="col-md-4">
          <div class="heading-featured">
            <h1><%= t('blogs.index.page_title') %></h1>
          </div>
        </div>

        <% if @blogs.count > 0 %>
        <div class="col-md-2 post-sorting  ">
          <p>SORTING</p>
          <select class="sorting-fltr" id="sort-blogs">
            <!-- <option class="fltr-dropdown" value="-1">Default</option> -->
            <!-- <option value="0"><%#= t(:A_Z) %></option> -->
            <option value="1">A-Z </option>
            <option value="2">Z-A </option>
          </select>
        </div>

        <div class="col-md-2 post-sorting">
          <p>CATEGORY</p>
          <%= select_tag 'blog[category]', options_for_select(Category.pluck(:name, :id)), { prompt: t(:All_Categories), class: "sorting-fltr", required: true, id: 'category-dropdown' } %>
        </div>
        <% end %>

        <div class="col-md-3 add_blog_btn pull-right">
          <%= link_to "+ #{t('blogs.index.add_new_blog_post')}", new_blog_path, class: "btn btn-primary new_blog_btn" if signed_in? %>
        </div>

        <!-- <h2> <i class="fa fa-file"></i> Last Posts </h2> -->
      </div>
    </div>

    <div class="row" id="blogs">
      <%= render partial: "all_blogs", locals: { blogs: @blogs } %>
    </div>
    <br />

    <%= hidden_field_tag :page, @next_page %>
    <%= render partial: 'shared/show_more', locals: { objects_collection: @blogs, url: blogs_path } %>
  </div>
</div>

<div id="bannerUploadModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <%= render 'blogs/upload_banner' %>
    </div>
  </div>
</div>

<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

<script type="text/javascript" src="http://vjs.zencdn.net/4.9.0/video.js"></script>

<script>
$(document).ready(function() {

    $('.responsive_video_slider').slick({
        dots: true,
        arrows: true,
        centerMode: true,
     centerPadding: '10',
        infinite: true,
        speed: 300,
        slidesToShow: 4,
        slidesToScroll: 1,
              // adaptiveHeight: true,
        responsive: [{
            breakpoint: 1024,
            settings: {
                slidesToShow: 6,
                slidesToScroll: 1,
                // centerMode: true,

            }

        }, {
            breakpoint: 800,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 2,
                dots: true,
                infinite: true,

            }


        }, {
            breakpoint: 600,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2,
                dots: true,
                infinite: true,
                
            }
        }, {
            breakpoint: 480,
            settings: {
                slidesToShow: 1,
                slidesToScroll: 1,
                dots: true,
                infinite: true,
                autoplay: true,
                autoplaySpeed: 2000,
            }
        }]
    });


});
</script>

<script>

  $('#uploaderBanner').click(function () {
    $('#bannerUploadModal').modal('show');
  });

  $("div.descriptionBlog").text(function (index, currentText) {
    return currentText.substr(0, 300);
  });
  function set_featured_blog(obj, id) {
    {
      apprise('Are You Sure You Want To change Featured status?', { 'verify': true }, function (r) {
        if (r) {
          var obj_cls = $(obj).attr('class');
          var status = ''
          if (obj_cls === 'fa fa-star ') {
            $(obj).addClass('featureBlog');
            status = true
          } else {
            $(obj).removeClass('featureBlog');
            status = false
          }
          $.ajax({
            url: '/change_featured_state?id=' + id + '&value=' + status,
            type: 'get',
            dataType: 'json',
            processData: false,
            success: function (data) {
              window.location.reload();
            },
            error: function (data) {
              alert('Error');
              //    window.location.reload();
            }
          });
        }
        else {
        }
      });
    }
  }

  function blog_share(id, type, url) {
    var blogUrl = $('#blogUrl').val();

    $.ajax({
      url: '/share_blog?id=' + id + '&value=' + type,
      type: 'get',
      dataType: 'json',
      processData: false,
      success: function (data) {
        $('#blogUrl').val(parseInt(blogUrl) + 1);
        window.open(url);
      },
      error: function (data) {
        alert('Error');
        //    window.location.reload();
      }
    });
  }

  $(window).scroll(function() {
    if (window.location.href.includes("blogs") && ($(window).scrollTop() == $(document).height() - $(window).height())) {
      params = '';
      page   = $('#page').val();
      if (page != "") {
      params = `page=${page}`;
      if ($('#subject-sort').length > 0) {
        params += `&sort_type=${$('#subject-sort').val()}`;
      }
      $('.loader').show();
      $.ajax({
        url: `/blogs?${params}`,
        type: 'GET',
        dataType: 'script',
        success: function(data) {
        },
        error: function(data) {
          $('.loader').hide()
          alert('Something Wentwrong!')
        }
      })
    }
    }
  });

</script>