I"t	(function() {
  (function() {
    window.Payments || (window.Payments = {});
    Payments.applyFilter = function() {
      return $('#apply-filter').click(function() {
        var since, to_date, user_ids;
        since = $('#since').val();
        to_date = $('#to_date').val();
        user_ids = $('#user_id').val();
        if (since === '' && to_date === '') {

        } else {
          if (since !== '') {
            if (to_date === '') {
              alert('please select to date first.');
              return false;
            }
          }
          if (to_date !== '') {
            if (since === '') {
              alert('please select to since first.');
              return false;
            }
          }
        }
        return window.location.href = '/payments?search[start_date]=' + since + '&search[end_date]=' + to_date + '&search[partner]=' + user_ids;
      });
    };
    Payments.searchPerform = function() {
      return $('#search-user').click(function() {
        var search;
        search = $('#searchText').val();
        window.location.href = '/payments?text=' + search;
      });
    };
    Payments.addNewPayment = function() {
      return $('#make-new-payment').click(function() {
        $('#addPayment').modal('show');
        return $.ajax({
          url: '/add_payment',
          type: 'get',
          dataType: 'json',
          processData: false,
          success: function(data) {
            $('#new_payment').html(data.html);
          },
          error: function(data) {
            alert('Error');
          }
        });
      });
    };
    Payments.init = function() {
      $('#user_id').select2();
      $('.dateTime').datepicker({
        format: 'yyyy-mm-dd'
      });
      window.paymentsTable = $("#payments-table").dataTable({
        searching: true,
        "pagingType": "full_numbers",
        "order": [[5, "desc"]],
        "paging": false,
        "info": false,
        scrollY: 600,
        scrollCollapse: true,
        scrollX: true
      });
      return $('#searchText').keyup(function() {
        var dInput;
        dInput = this.value;
        if (dInput === '') {
          $.ajax({
            url: '/payments/clear_search'
          });
        }
      });
    };
    return document.addEventListener('turbolinks:before-cache', function() {
      return $('#user_id').select2('destroy');
    });
  }).call(this);

}).call(this);
:ET